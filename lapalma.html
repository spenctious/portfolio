<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/custom.css" />

    <title>Datasheet: La Palma for walkers | Robert Anstey</title>
  </head>

  <body>
    <header>
      <nav class="navbar navbar-expand-lg bg-main-1 navbar-dark fixed-top">
        <div class="container">
          <a href="index.html" class="navbar-brand">Robert Anstey</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mainMenu"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="mainMenu">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a href="index.html" class="nav-link">Home</a>
              </li>
              <li class="nav-item">
                <a href="index.html#portfolio" class="nav-link">Portfolio</a>
              </li>
              <li class="nav-item">
                <a href="index.html#aboutMe" class="nav-link">About</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  CV
                </a>
                <ul class="dropdown-menu bg-main-1 dropdown-menu-dark " aria-labelledby="navbarDropdownMenuLink">
                  <li><a class="dropdown-item" href="index.html#skills">Skills</a></li>
                  <li><a class="dropdown-item" href="index.html#experience">Experience</a></li>
                  <li><a class="dropdown-item" href="index.html#education">Education</a></li>
                  <li><a class="dropdown-item" href="#">CV (PDF)</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a href="index.html#contact" class="nav-link">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div class="container mt-5 pt-3">
      <div class="row">
        <div class="col-md-3">
          <div class="stay-put card mt-5 mt-lg-2">
            <h5 class="card-header">Contents
              <button 
                class="btn btn-outline-dark btn-sm float-end d-md-none" 
                type="button" 
                data-bs-toggle="collapse" 
                data-bs-target="#sidenav-contents" 
                aria-expanded="false" 
                aria-controls="collapseExample">
                Show/Hide
              </button>
            </h5>
            <div class="collapse show" id="sidenav-contents">
              <div class="card-body py-1">
                <ul class="list-group list-group-flush" id="content-list">
                  <a class="list-group-item list-group-item-action" href="#background">Background</a>
                  <a class="list-group-item list-group-item-action" href="#objectives">Objectives</a>
                  <a class="list-group-item list-group-item-action" href="#scope">Scope</a>
                  <a class="list-group-item list-group-item-action" href="#constraints">Constraints</a>
                  <a class="list-group-item list-group-item-action" href="#risks">Risks</a>
                  <a class="list-group-item list-group-item-action" href="#requirements">Requirements</a>
                  <a class="list-group-item list-group-item-action" href="#approach">Approach</a>
                  <a class="list-group-item list-group-item-action" href="#design">Design</a>
                  <a class="list-group-item list-group-item-action" href="#data">Data</a>
                  <a class="list-group-item list-group-item-action" href="#testing">Testing</a>
                  <a class="list-group-item list-group-item-action" href="#conclusions">Conclusions</a>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-9 my-4">
          <a class="anchor-point" id="datasheet-top"></a>
          <h4 class="mt-5 mt-lg-0"><span class="badge bg-main-2 fw-normal">Project breakdown</span></h4>
          <h1 class="display-1 my-5">La Palma for Walkers</h1>

          <!-- background -->
          <a class="anchor-point" id="background"></a>
          <h2 class="mt-5 text-main-3 text-main-3 text-main-3">Background</h2>
          <p>
            In 2019 I published a new type of walking guidebook for the Canary Island of La Palma which included a Wix website for curated links and route downloads. I had also created an (unpublished) map & guide as a pivot project aimed at a more casual and international audience that used icons to summarise route attributes. Creating a site to go with such a map seemed an ideal first project: non-trivial but doable - and I had the data already for it.
          </p>

          <!-- objectives -->
          <a class="anchor-point" id="objectives"></a>
          <h2 class="mt-5 text-main-3 text-main-3">Objectives</h2>
          <ol>
            <li>
              <strong>Learning</strong> - consolidation and expansion of knowledge gained through training courses.
            </li>
            <li>
              <strong>Portfolio addition</strong> - something to put on this site!
            </li>
            <li>
              <strong>Research</strong> - the app would make a useful tool
              for researching customer needs and expectations. People
              generally find it easier to react to something concrete than talk
              about abstract concepts.
            </li>
          </ol>

          <!-- scope -->
          <a class="anchor-point" id="scope"></a>
          <h2 class="mt-5 text-main-3">Scope</h2>
          <p><strong>Out of scope</strong></p>
          <ul>
            <li>Accessibility (insufficient time)</li>
            <li>Support for old browsers (relevance, need)</li>
            <li>
              Creation of a database for the route data (insufficient time)
            </li>
          </ul>

          <!-- constraints -->
          <a class="anchor-point" id="constraints"></a>
          <h2 class="mt-5 text-main-3">Constraints</h2>
          <ul>
            <li>
              <strong>Client-side only</strong> - purely a reflection of my state of knowledge at
              the time
            </li>
            <li>
              <strong>Pure JS</strong> - no jQuery, Bootstrap or other helpers. Doing things the
              hard way first accelerates understanding.
            </li>
          </ul>

          <!-- risks -->
          <a class="anchor-point" id="risks"></a>
          <h2 class="mt-5 text-main-3">Risks</h2>
          <ul>
            <li>
              High probability of the project being derailed by some unforseen
              factor due to lack of experience (<a
                href="https://en.wikipedia.org/wiki/There_are_known_knowns"
                >unknown unknowns</a
              >).
            </li>
            <li>
              Being client-side only may not be possible or result in
              objectionable code.
            </li>
            <li>
              An app that&apos;s a learning tool may not look good on a
              portfolio compared to a simpler more polished site.
            </li>
          </ul>

          <!-- requirements -->
          <a class="anchor-point" id="requirements"></a>
          <h2 class="mt-5 text-main-3">Requirements</h2>
          <p>Requirements were specified in user-story format to cover the basic functionality the site had to offer to be useful.</p>
          <button class="btn btn-outline-primary mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#fullRequirements" aria-expanded="false" aria-controls="collapseExample">
            User stories
          </button>
          <div class="collapse" id="fullRequirements">
            <div class="card card-body">
              <h4>Functional</h4>
              <p><strong>General</strong></p>
              <ul>
                <li>A user can get a general introduction to the island</li>
                <li>A user can get detailed location-specific weather forecasts</li>
                <li> A user can learn about offline mapping apps to use with the provided routes</li>
                <li>A user can learn about the trail network</li>
                <li>A user can learn about buses and other transport options</li>
              </ul>

              <p><strong>Walks</strong></p>
              <ul>
                <li>A user can browse a collection of walks</li>
                <li>A user can immediately determine if walk is of interest based on basic information (pic, very brief description, key stats)</li>
                <li>A user can bookmark walks that look interesting</li>
                <li>A user can narrow down the collection to suitable walks by filtering on:
                  <ul>
                    <li>Favourites and recommended</li>
                    <li>Basic walk attributes</li>
                    <li>Features</li>
                    <li>Warnings</li>
                    <li>Location</li>
                  </ul>
                </li>
                <li>A user can select a walk to get further details including:
                  <ul>
                    <li>Full set of pics</li>
                    <li>Full description</li>
                    <li>Route map</li>
                    <li>Basic walk attributes</li>
                    <li>Features, warnings and dangers</li>
                    <li>Walk variations including any additional downloads</li>
                  </ul>
                </li>
                <li> A user can get trail status information for the trails used on a walk</li>
                <li>A user can download routes for use in GPS apps</li>
              </ul>

              <p><strong>POI (Points of Interest)</strong></p>
              <ul>
                <li>A user can browse a collection of POI to find places worth visiting</li>
                <li>A user can immediately determine if a POI is worth visiting based on basic information (pic, category tags)</li>
                <li>A user can filter POI by tags</li>
                <li>A user can select a POI to get further details including:
                  <ul>
                    <li>Description</li>
                    <li>Fees, opening times, web address, email, tel etc. as applicable</li>
                    <li>Location</li>
                  </ul>
                </li>
                <li>A user can see which walks feature the POI</li>
              </ul>

              <p><strong>Navigation</strong></p>
              <ul>
                <li>A user can navigate through a collection of walks at the detail level</li>
                <li>A user can navigate through a collection of POI at the detail level</li>
                <li>A user can navigate from a detail collection to an overview collection in one step</li>
                <li>A user can navigate from a detail collection to an overview collection without losing previously set filters (state is preserved)</li>
              </ul>

              <h4>Non-functional</h4>
              <ul>
                <li>A user can successfully navigate the app without instruction</li>
                <li>The site is mobile friendly</li>
                <li>The site is performant on mobile</li>
              </ul>
            </div>
          </div>

          <!-- approach -->
          <a class="anchor-point" id="approach"></a>
          <h2 class="mt-5 text-main-3">Approach</h2>
          <p>
            The app will be created 'loosely' - that is prioritising the most
            uncertain and high-risk elements first, building minimally to test
            assumptions, only then expanding and filling in detail. Refactoring to take 
            advantage of new knowledge as it becomes available. Detailed
            functionality and design to be deferred as these may have
            to adapt to circumstances as things progress.
          </p>
          <p>
            Initial sketches to be done in Figma to a sufficient level of detail
            to understand basic content needs and be able to perform initial user testing to see if the design works in principle.
          </p>
          <p>
            Learning to be prioritised over design.
          </p>

          <!-- design -->
          <a class="anchor-point" id="design"></a>
          <h2 class="mt-5 text-main-3">Design</h2>
          <p>Main design goals were:</p>
          <ul>
            <li>Mobile first</li>
            <li>Control the large amounts of data available</li>
            <li>Support meaningful and speedy route selection</li>
            <li>Anticipate user needs and preferences</li>
          </ul>
          <button class="btn btn-outline-primary mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#designDetails" aria-expanded="false" aria-controls="collapseExample">
            Design solutions
          </button>
          <div class="collapse" id="designDetails">
            <div class="card card-body">
              <ul>
                <li><strong>Extensive use of icons</strong> - icons can convey information in a very compact form.</li>
                <li><strong>Summary blocks</strong> - detail can be collapsed down to a summary view which can be expanded on demand.</li>
                <li><strong>Filtering</strong>
                  <ul>
                    <li>The number of possible options can be overwhelming so limit the options to those that really add value</li>
                    <li>Display textual confirmation of choices so users can learn what icons mean by selecting them</li>
                    <li>Avoid the need to scroll in the filters so users don't miss options</li>
                    <li>Let users select location areas on a map</li>
                    <li>Disable options that don't make sense</li>
                  </ul>
                </li>
                <li><strong>Information hierarchy</strong> - present users with detail in the order that helps them make choices</li>
              </ul>
            </div>
          </div>

          <a class="anchor-point" id="data"></a>
          <h2 class="mt-5 text-main-3">Data</h2>
          <h4>Internal data</h4>
          <ul>
            <li>
              Once retrieved from the server the app data should be stored
              locally and only retrieved again if the data version changes.
            </li>
            <li>
              A data wrapper class will allow the raw JSON data to be processed
              and properly linked so the code consuming the data can be cleaner.
            </li>
            <li>
              Favourites should persist in local data so they are retained
              between sessions.
            </li>
          </ul>
          <h4>External data</h4>
          <p>The app aims to integrate external data from a number of sources:</p>
          <ul>
            <li>Maps showing the plotted route</li>
            <li>Weather forecasts</li>
            <li>Bus timetables</li>
            <li>Live trail status</li>
          </ul>
          <button class="btn btn-outline-primary mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#externalDataDetails" aria-expanded="false" aria-controls="collapseExample">
            Technical details
          </button>
          <div class="collapse" id="externalDataDetails">
            <div class="card card-body">
              <h5>Mapping</h5>
              <p>
                  The <a href="https://leafletjs.com/">Leaflet</a> javascript
                  library can be used to plot GPX routes on a map. Given the
                  relatively limited number of routes though we can leverage the map
                  builder on
                  <a href="https://www.gpsvisualizer.com/">GPS Visualizer</a> to get
                  fully-formed web pages for the maps which can then be linked into
                  the app in an iFrame. GPS Vizualizer uses Leaflet so we're just
                  getting the same functionality for less effort. There's some
                  redundancy in the pages but nothing to concern us.
              </p>
              <h5>Forecasts</h5>
              <p>
                  AEMet (the Spanish Met office) has a weather API but processing
                  the returned data would be onerous. There is a better solution
                  which is to use the widget generator they provide and embed that
                  in the app. The location of the forecast can be changed by
                  manipulating the iFrame URL.
              </p>
              <h5>Bus timetables</h5>
              <p>
                  The bus company website doesn't have a API or even any machine-readable data other than PDFs.
                  Timetable links terminate in route map images with times embedded as an image. There's
                  no data to scrape so nothing we can do other than link to these PFDs and images.
              </p>
              <h5>Live trail status</h5>
              <p>
                  The local council maintains a useful website for the trail network
                  and there is a page for current trail status information which can
                  be scraped. The data is paged but the default is 100 items and
                  there are only 80 or so rows so the one page should have it all.
                  The page can be slow to load so the web scraping operation should be coded
                  to be non-blocking.
              </p>
            </div>
          </div>

          <a class="anchor-point" id="testing"></a>
          <h2 class="mt-5 text-main-3" >Testing</h2>
          <p>
            Testing happens in 3 areas: 
          </p>
          <ul>
            <li>At design stage to ensure basic assumptions hold up</li>
            <li>When the data is loaded during development (this is a data-driven app and data integrity is crucial)</li>
            <li>In the target browsers where functionality and layout can be checked</li>
          </ul>
          <button class="btn btn-outline-primary mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#testDetails" aria-expanded="false" aria-controls="collapseExample">
            Test details
          </button>
          <div class="collapse" id="testDetails">
            <div class="card card-body">
              <h5><span class="badge text-light bg-success">PASSED</span> Assumption testing</h5>
              <p>
                The app makes extensive use of icons most of which will be unknown
                to users initially. The assumption was that users would explore
                filters and route detail options and would come to know what the
                symbols mean through use. Early Figma designs were shared with a
                typical user and the user was tested to see if they got stuck when
                they saw icons they didn’t understand or if they would explore. Testing showed
                users were willing and able to explore and so learn the symbols.
              </p>
              <h5><span class="badge text-light bg-success">PASSED</span> Data integrity testing</h5>
              <p>
                The data should really be in a database. Manually created JSON files
                are prone to error so some basic integrity checking at the data
                layer was needed. A JSON schema would be more rigourous but could
                not perform referrential integrity checks. The checks implemented
                tests for the sort of errors that were found to be occuring and
                causing issues. Data testing is for development use, a flag turns it
                off for production.
              </p>
              <h5><span class="badge text-light bg-success">PASSED</span> Browser testing</h5>
              <p>
                The app has been manually tested in:
                <ul>
                  <li>Chrome on Windows and Android</li>
                  <li>Firefox on Windows and Android</li>
                  <li>Chrome and Safari on iOS and macOS</li>
                </ul>
              </p>
              <h5><span class="badge text-light bg-success">PASSED</span> Mobile friendly</h5>
              <p>
                The app is considered mobile-friendly if it passes the <a href="https://search.google.com/test/mobile-friendly">
                Google Mobile Friendly test</a> 
              </p>
              
              <h5><span class="badge text-dark bg-warning">WARNING</span> Performance</h5>
              <p>
                We're looking for <a href="https://pagespeed.web.dev/">Google PageSpeed Insights</a>
                to return green (scores 90+) for all metrics on mobile.</p>
              <p>Scores for some pages are a few points shy due to layout shifts (walk detail summary expansion) and the need to load and process the data before painting the page.</p>
              <p class="ps-2">
                <span class="badge text-dark bg-warning">81</span> Home page<br/>
                <span class="badge text-light bg-success">93</span> Forecasts<br/>
                <span class="badge text-light bg-success">93</span> Tranhsport<br/>
                <span class="badge text-light bg-success">93</span> Trails<br/>
                <span class="badge text-light bg-success">94</span> Apps<br/>
                <span class="badge text-dark bg-warning">88</span> Browse walks<br/>
                <span class="badge text-dark bg-warning">78</span> Walk details<br/>
                <span class="badge text-light bg-success">90</span> Browse Places<br/>
              </p>
            </div>
          </div>

          <a class="anchor-point" id="conclusions"></a>
          <h2 class="mt-5 text-main-3">Conclusions</h2>
        </div>
      </div>
    </div>


    <footer class="bg-main-1">
      <div class="container text-main-6 pt-3 pb-1 align-middle text-center">
        <p class="social-media fs-5">
          <a href="https://github.com/spenctious"><i class="bi bi-github px-2"></i></a>
          <a href="https://www.linkedin.com/in/robanstey/"><i class="bi bi-linkedin"></i></a>        
        </p>
      </div>
    </footer>
  
    <!-- Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

  </body>
</html>
